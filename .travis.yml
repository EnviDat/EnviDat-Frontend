branches:
  only:
  - master
  - develop

jobs:
  include:
    - language: python
      python: "3.6"
      install:
        - pip install -r requirements.txt

    - language: node_js
      node_js: lts/*
      before_script:
        - npm i node-gyp -g
        - npm i
      script:
        - npx chromatic --project-token=${CHROMATIC_PROJECT_TOKEN} --exit-zero-on-changes
        - npm run test:unit
        - npm run build
